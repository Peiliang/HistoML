## Population-based Prognosis Analysis

This use case demonstrates how to analyze large scale statistic data with HistoML.

#### Important Files

Template.xml: Template to generate HistoML representation files.

Grade1~3.rq & Endothelial.rq: Sparql queries for 4 types of cells.

Analysis.java: Source code of generating HistoML representations and run Sparql queries.

Execute.py: Execute the use case.

Representation.xml: HistoML representation generated by this use case.

#### How to Use

Install all requirements for python:

```shell
pip3 install -r requirements.txt
```

Download model files from [here](https://drive.google.com/file/d/11S064aegdil-CI-SdYk0DHp2n7d2Nv-8/view?usp=sharing) and extract all files into micronet folder.

Run the use case:

```shell
python3 Execute.py Example.png area diameter circularity entropy
```

CCRCC Nuclei Grading Dataset can be downloaded from [here](https://dataset.chenli.group/home/ccrcc-grading). This dataset contains 1,000 512x512 images for CCRCC Nuclei Grading and Segmentation tasks. Area, diameter, circularity and entropy are 4 parameters calculated for each cell.

CUDA environment and Java 11 runtime is required to run the queries.

#### Example Output

> average area:
> grade 1 (15): 407.133333
> grade 2 (1): 225.000000
> grade 3 (10): 857.800000
> endothelial (5): 125.400000

This means that the average nucleolus area of all 15 grade 1 cells is 407 pixels, etc.

