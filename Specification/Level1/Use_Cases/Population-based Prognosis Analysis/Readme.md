## Population-based Prognosis Analysis

This use case demonstrates how to analyze large scale statistic data with HistoML.

#### Important Files

Template.xml: Template to generate HistoML representation files.

Grade1~3.rq & Endothelial.rq: Sparql queries for 4 types of cells.

Analysis.java: Source code of generating HistoML representations and run Sparql queries.

Execute.py: Execute the use case.

Representation.xml: HistoML representation generated by this use case.

#### How to Use

Install all requirements for python:

```shell
pip3 install -r requirements.txt
```

CCRCC Nuclei Grading Dataset can be downloaded from [here](https://dataset.chenli.group/home/ccrcc-grading). This dataset contains 1,000 512x512 images for CCRCC Nuclei Grading and Segmentation tasks. Extract the "Images" and "Labels" folders into "Dataset" folder.

Run the use case:

```shell
python3 Execute.py area diameter circularity entropy
```

Representation files will be generated in the "Representation" folder. Area, diameter, circularity and entropy are 4 parameters calculated for each cell.

CUDA environment and Java 11 runtime is required to run the queries.

#### Example Output

> average area:
> grade 1 (45120): 346.531272
> grade 2 (6407): 566.327923
> grade 3 (2780): 809.073741
> endothelial (16691): 293.694566

This means that the average nucleolus area of all 45120 grade 1 cells is 346.5 pixels, etc.

